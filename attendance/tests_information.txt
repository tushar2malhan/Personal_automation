stealhead 9.12.2 latest version for WAN optimization

tests using jenkins
Understand configurations in jenkins

Steps for Testing
title link > view case > Test results > history of tests
* click latest passed link > title (check naming convenctions)
> ALways check VLAB_ALLOCATION in logs ( which you will find in jenkins link under console output)
> we need to make sure all  tests are passed here 


go to vlaboak  and find that vlab allocation and find it and open it from the columns

check red ones virtual machines , they need to be healthy
NEVER EVER CLICK DELETE BUTTON.
RECYCLE = archive the machine that will put machine into GRAB LIST
* just click on that machine and add under vlan to add that machine from grab list into a particular vlan
* just like machine , we can recycle and delete VLAN


vnc is tool for windows clinet machine 

in the allocations
in role if clinet or cfe then it is a clinet machine 
else  sfe it is server machine
above it we get the os linux or windows 

if we have same machine host name, 
  primary, cfe and sfe = so they are connected to each other using primary  

dummynet - connection between stealheads machines (clinet and server machine )

HOW TO MAKE THESE MACHINES UP AND RUNNING ?
CLICK ON CLOCK and wait 
if unhealthy:
	under action
	- ping_admin_interface
	- click execute button
	- go back to vlan check the machine it will be in blue state - healthy state


	just like vlan , machine , there is wake up button for each allocations
	- to wake up , delete , archive all machines
	** If these machines are  unhealthy, we need to follow these steps inorder to make
		them active and healthy
	** if primary . lan . wan , do this step for only primary machine 
	** same case for dummynet aas well  (need to open and activate them once )
	MACHINE DOWN ?
		** IF MACHINE FAILS AGAIN 
			then Under action > 
			Do    reboot 		           [ step 1 ]
			or   power_cycle               [ step 2 ]
			or   power_on                  [ step 3 ]
			* -- install build in that, it will be healthy
			* -- try accessing machine vcenter 
			* -- and then revert the snapshot   if still not working ( client machine )


NOW
PROCESS  TO CHECK THE PING CONNECTIVITY  
= ALWAYS check connectivity from  MAIN client machine to server machine  (ping + give name or ip addresses) (check test paramters of tests)

	client machine<-->client SH(steelhead)<-->dummynet<-->server SH<-->server machine
		if TIMEOUT > ISSUE IN VLAB ALLOCATION
		SO WE CHECK EACH  MACHINE BY PINGING  THEM  > FROM THERE CONNECT TO SERVER MACHINE AND PING IT FROM INSIDE THE SERVER
		If issue in ping command > individually check the ping to check the process for each server connectivity
		* Check points para for more info 

*** If issue in ping conncetivity-
	= CHECK whether that client machine belongs to the same allocation where both the steelheads are placed
	#		Like no   http allocation's client machine 		can ping    SSL steelheads  and get ping output
	[  	 EVEN if its linux machine , we can ping it from inside the server machine 	]


connect linux severs using ssh
open putty > add server > server name (host name oak-vcs-992)
login as root
passd as 2top90!   ** ALL CLIENT AND SERVER MACHINES THE PASSWD IS SAME 
passd as admin     ** for stealhead this is password





stealhead > os installed , with help of client machine and server machine , we test our stealhead machine
- if issue returns error like environment not set up.

	VLAB_ALLOCATION = if release particular os , each test , servers should be in particular configurations , GROUP OF MACHINES 
	under TEST paramters > configurations are displayed
	based on configurations , we can test our stealhead machine ONLY FOR THAT particular tests


DC (HEAD ) > from dc servers are connected , from servers client machines are connected


	8/2/22

How to install os in stealhead ?
	- We install os in stealhead machines only client and server cfe and sfe
	First check the stealhead version ,
	under bookmarks > builds > search 9.12.2 > need to check latest allocation click first link >
	( check the lates build  like 106 for TESTS today  )
	# SO whatever the requirement will be , we need to check from the latest build  (buildbox)
	 from buildbox url and find the appropriate version (eg for test i got 9.10.1 which is truk )
	# go to url , search in textbox and find the latest success build, ! that will be installed os in ur stealhead sfe and cfe

	* ONE PERSON ONE ALLOCATION FOR INSTALLATION , SO MSG EVERYONE IN GROUP
	* FIRST CONNECT TO CLIENT MACHINE , the install OS

HOW to install os  IN 3 WAYS ?
	
	1.  VLANs 
	one primary for cfe and sfe respectively
	so need to insatll os in primary stealhead cfe and primary SFE stealhead 
	[ both cfe and sfe contains 3 primaryb lan and wan ]
	> go to  any browser (copy vlab allocation to browser)
	> we deal with primary stealhead machine() > click and open machine in other tab both clinet and server >
	under action / install and enter (2 sec for reload ) > the release and release type are ordered by build release date so select the latest build
	(we select the point release as 9.12.2 because we have no major release  like 9.8.0 or 9.10.0) 9.12.2 is point release
	(only action , release , release type and build is considered , else everything default)
	> click on execute button to install os (10-15 min) 
		[	SAME STEPS FOR BOTH CLIENT  AND SERVER STEELHEAD MACHINE  ]
		
	go to vlab allocation , we can check # 85 version is now #106 release
	* IF ISSUE THEN GO TO ANY CLIENT MACHINE , COPY PASTE URL AND INSTALL from browser inside the server

		# NEED TO ENTER CLINET MACHINE NOT REMOTE  MACHINE
		IF CFE LATEST -1 OR SFE -2 
		THEN BUILD NEED TO BE checked where there is (success with release )
		then execute
		whatever build is selecfted , it will be installed in the machine

	Q can we install in both cfe and sfe at one go ?
		- yes 


	2. LINK

	***   usually we are giving http://releng.nbttech.com/steelhead/*codename*/*release typ*/*release version*/*Build number*/x86_64/
	***   confirm this with the build box and check the params for release version , build number and do google search that whether that url is avaialble or not !!
	*** just change build number 2 times and the --appliance name which is the machiine in which u want to install this 
		
		* from CLINET MACHINE > PING EVERYONE IN GROUP
		url > 
		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/point/9.12.2/101/x86_64 --pxe=builds/steelhead/maldives/point/9.12.2/101/x86_64 --appliance=oak-vsh423 --owner=qa-ts-shared --vlab=VLAB-OAK
		
		
			Like i required build 108 in 	oak-vsh252	 
		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/point/9.12.2/108/x86_64 --pxe=builds/steelhead/maldives/point/9.12.2/108/x86_64 --appliance=oak-vsh252 --owner=qa-ts-shared --vlab=VLAB-OAK
		




	EXAMPLE TESTS		
		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/palau/point/9.9.3/88/x86_64 --pxe=builds/steelhead/palau/point/9.9.3/88/x86_64 --appliance=oak-vsh252 --owner=qa-ts-shared --vlab=VLAB-OAK
		
		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/point/9.12.2/108/x86_64 --pxe=builds/steelhead/maldives/point/9.12.2/108/x86_64 --appliance=oak-vsh321 --owner=qa-ts-shared --vlab=VLAB-OAK
	


		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/eng/9.12.2a/4/x86_64/ --pxe=builds/steelhead/maldives/eng/9.12.2a/4/x86_64 --appliance=oak-vsh252 --owner=qa-ts-shared --vlab=VLAB-OAK

		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/eng/9.12.2a/6/x86_64/ --pxe=builds/steelhead/maldives/eng/9.12.2a/6/x86_64 --appliance=oak-vsh253 --owner=qa-ts-shared --vlab=VLAB-OAK
		
		
		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/eng/9.12.2a/8/x86_64/ --pxe=builds/steelhead/maldives/eng/9.12.2a/8/x86_64 --appliance=oak-vsh253 --owner=qa-ts-shared --vlab=VLAB-OAK
		/u/qa/tests/install/rbt-install.t --image=http://releng.nbttech.com/steelhead/maldives/eng/9.12.2a/8/x86_64/ --pxe=builds/steelhead/maldives/eng/9.12.2a/8/x86_64 --appliance=oak-vsh252 --owner=qa-ts-shared --vlab=VLAB-OAK



		
		GO TO URL . CHANGE THIS HTTP URL point/9.12.2/106/x86_64 AND BASE ON SH CHANGE THE version name of point release 106 is build number (architecture is x86_64)

		* After changes in url > got to client machine > 
		cygwin terminal as administrator > 								# OPEN IN WINDOWS TERMINAL only , Never mind if it belogs to another allocation 
		ssh jjjanardhanan@pyrite
		 > type pass > strange@2022Q1
		here give that changed url link and enter ( 10-15 min)
		- wait until u see ~ msg successfully installed

			[	SAME STEPS FOR BOTH CLIENT  AND SERVER STEELHEAD MACHINE  ]

	3.	 DELIVERABLE ID 
		Install os from jenkins jobs



9/2/21

	REPEATED IN BRIEF
	view case > test results > go for latest release > then latest title > 
	click on jenkins job link > console_outpput > search 


	[ all Allocations  virtual machines placed in oakland  	]



	allocation check > healthy > install 
	* After successfull installation , refresh the page ,
	you could check the versions of the installation besides the cfe and sfe primaries


	TESTS
	From the same Passed Jenkins Url >
	IN Jenkins link click rebuild > 
	[ 	there are differnet jobs for each jenkins pipeline (it is configured respectively) >	like http pr 	]

	> check configurations 
	VLAB_ALLOCATION	name  == name of the allocation , 
	test run _id == get(from url or Rnumber) from allocation,
	VLAB_USER	 == qa_ts_shared  &    VLAB == VLAB_OAK
	NBT_IPv6 checkmark only if allocation has it , 
	Remove DELIVERABLE ID (should be null)
	finally >>> REBUILD

POINTS 
* if issue with connecting to primary cfe TO INSTALL THE DEPENDENCIES like os  ,
* Always login to jenkins first from jjjanardhan sir id 
 then connect to role: IE8_clien_t CLIENT MACHINE and then navigate to 
 primary cfe and sfe steelhead's and open the vlab allocation! 

- In test paramters
	the names of the servers  check the connectivity of the servers with each other 
- Try to wake all machines , thats how you connect to check them. in vlab > Under allcoation name , use clock to wake all machines at once
- Wake one primary , lan wan automatically become healthy  (cfe and sfe )

- WHen Ping conncectivity, DO CHECK THE REVERT IP FROM CLIENT MACHINE, IT IS NOT RIGHT ALWAYS, SO DO USE  ( PING IP ADDRESS ) instead of server name

- You can use any other window machine of any other allocation which can be further used  to go vnc to do the installtion step
	for the particular vlab allocation installtion in primary cfe ( for vlab allcoation ssl im using http server for installation  #   oak-vcs343   )
- even if 2 version back , install latest build in the point  only 




Q if steelheads not connected , how to determine which client machine 
|	to connec to ?															= take any client machine and open the vlab allocation url in it  and  install it

Q Can we do both client and server installation steps at once in one go     = both at same time 
Q can we make all machines healthy in one go ?								= manually           with dummynet ,  primary cfe sfe , almost all will be healthy
Q DO we need to wake all machiines even if they are not required ! 			=  all machines need to healthy
Q How to check cfe -1 version or sfe -2 version ? 
|																		    = from the respective Test plans you can check old Cfe or old SFE versions , written in the test plan
Q ipv6 check box only click  												= only click it if written in test plan
Q if issue in ping command from client machine to server machine ? 			= CHECK whether that client machine belongs to the same allocation where both the steelheads are placed
#																				 Like no   http allocation's client machine 		can ping    SSL steelheads  and get ping output
[  																				 EVEN if its linux machine , we can ping it from inside the server machine 								]
Q how to individually check and determine the steelhead servers to ping ?
|  																			= client machine<-->client SH(steelhead)<-->dummynet<-->server SH<-->server machine
|																			=	from the main client machine (restart it too if not ping work or put that grab list) > hit any client machine > client sh > from client machine to  server stealhead > from client machiine  to server machiine
|																			Find out which machine which has problem  with this connectivity step !

Q Check which is main client and server machine 							= In each Tests, Under Test paramters , we get the actual Client and server machine information , so for each Tests , client and server machines are differnet
Q connect through linK once 												= just change build numbers twice or name of the builds if differnet twice and change the appliance name as host name of the machine (where it would be installed )
Q can i install os in client and server sh from my local system ? =  our local machine if it faced any network problem, good PRACTICE to do via virtual machine
	control system > all system > system > find domain name
	** make sure all windows are closed in servers
Q can we  check conncetivity from  any client to any server machine 		=  no , though we can check connectivity from any client to any server machine, but test params c/s needs to be connected
|	or specified servers only	? and incase with MAPI  any client to DC ? 


Overall Steps
	MAKE Allocation healthy > connectivity > Install OS > Test (REBUILD)




TEST 1
		* MADE MISTAKE BY NOT LOGGING INTO JENKINS ID FIRST 
	-- installed the builds via link , previous version in  SFE and latest one in CFE , got to know that , if no windows machine , then can conenct any client machine from any allocation 
		to access the installation steps ( like i used to oak-vcs343 from http allocation to access SSL allocation ) a
		- even if sfe is 2 version back , the release would be depening upon tests is major or point , as by default it was point i need to install latest point in that server steelhead


11/2/2021



	Q WHat to Do If Test Plan  Fails ? 
	
	Environment Issue -  restart the client machine if Test fails
		** Before Restarting the client machine , Always clear the TEMP folders inside the clinet machine whether 
		( win + r > Temp & %Temp% and recycle bin > Restart the clinet machine by restaring button , if not access then reboot under action ) >>> BUT  it is a good PRACTICE
		- skip the files if required , then Restart and do ping connectivity from cfe to sfe 
		with backword compatability with old cfe  ( previous version of cfe  and latest version of sfe needs to be installed in STEELHEAD OS  ) 
	- CHECK FAIL LOGS OF TESTS >>> In console output logs , search TEST 1 > this will open iceberg logs , here u can find out the cfe and sfe versions used for installation os (search by machine name)









MAPI-OA  TESTS CASES 

	** ALWAYS OPEN CLIENT MACHINE WHICH HAS MAIL , like oak-vcs1394 had everything but 1398 did not, which resulted in error **
	** also check the logs which administrator@oak-vcs1394 it is putting the commands into ! **


	** Check domain name 
		= by going to c drive > empty space > properties > check the domain name and change settings to change it 
	- get into test paramters 

	**	ALWAYS OPEN WINDOWS SERVER MACHINE and DC MACHINES ALWAYS VIA RDP 	 , PASSWD - 2TOP!9
		-  exchn version means server machine 
		( OPEN  server machine and dc machine in RDP )
		
		FIND THE DOMAIN FROM DC MACHINE ?    (via RDP)
		-  dc means domain machine   -  from domain to server to client machine   
		 LOOK FOR SERVER VERSION (SO DC + SERVER VERSION == ACTUAL DC MACHINE  like dc glory 2016)
	
	** No CHANGES IN server machine  , only domain name changes in CLIENT MACHINE 
		- IN Client machine > cmd > whoami > check domain name  (in client and DC machine) 
		- ALWAYS check connectivity from  MAIN client machine to server machine  
			(ping + give name or ip addresses) (check test paramters of tests)
		- ping domain_name or ping dc machine from client machine
		#				        		 Control Panel\Network and Internet\Network and Sharing Center
		( if domain ping not working ) - Control panel > under network and internet >
		|								 network connections > CHECK TEST > 
		|								 disable and enable the test and then ping dc machine from client machine
		-                                Legacy work >>> reboot from restaring machine or from under action
		REST same >>> 	 REBUILD AND INSTALLATION STEPS SAME 


	** CHANGE DOMAIN IF DC DOMAIN NOT MATCH WITH DC MACHINE 
	
		C DRIVER > properties > change settings > change > under domain 
		> workgroup > here change domain name from dc to client machine ( RANDOM ) > 
		username == old domain name\administrator , pass > 2top!9 > restart > close 
		>  check domain  > check domain name in client machine 
		< under DOMAIN > actual domain name needs to be given here > 
		ok > username ==  actual domain name\administrator , pass same and then restart
		(Here in workgroup , give any sample 'abc' name ,
		then change it to actual domain name )
		- ping from client to dc machine 

		- if cached mode:1    then it is online mode : so we need to TICK  the box 
			go to  client machine via vnc  > mail > 
			from dropdown select test paramters name version and ok 


		From the Test params in the 	TEST PLAN  
			if test plan == [Capri+] Hybrid FIPS MOH Attachments Online # 2013/2016 
			- then take client 2013 should match the domain name with dc-glory-2016    # 2013/2016 --> glory.rvbd
			- oak-vcs1394 == client machine - change domain from oak-vcs1165 == dc machine
			- ping connectivity to domain machine and server machine

			if test plan == [Capri+] Hybrid FIPS MOH Attachments Online 2016/2013
			then take client machine 2016 == oak-vcs1166
			- change the domain to  role: dc-cool-2013                	# 2016/2013  --> cool.rvbd
			- oak-vcs 1166  change the domain    from oak-vcs1337 
			- ping connectivity to domain machine and server machine

		********** IN CLIENT MACHINE (oak-vcs 1394 client ol2013) 
		|			ALWAYS LOGIN AS THE DOMAIN Administrator  if glory then login as == glory\Administrator  ******************

		********** 	if cool is the domain name then login as == cool\Administrator							 ******************



																		MAPI
	 CHeck the Dc machine by  version of the test
	 Q  Pingged client to dc ip 10.5.167.190 not working but when i put dc machine name, its  working 
		response > Reply from 2600:809:200:1580:250:56ff:feab:24ad: time=51ms 
		> Because ipv6 checkbox  was not cleared so the resulted ip was coming in ipv6 , make sure its cleared 
	 - at the time of installation, ping conncectivity does not work because that time sh is busy as its rebooting
	 - OPEN DC IN RDP , not in VNC 
	 - ALWAYS CHECK DOMAIN PING from properties 
	 - its better to restart by going inside the server machine na mam and  not by allocation and clicking and reboot process
	 -  always run with return failed only ticked

	
	** in case of  disabling ipv6  checkbox in mapi allocation 
		dir = Control Panel\Network and Internet\Network Connections
		> go to    dir\properties  > disable ipv6 checkbox > then disable and enable for ping connectivity 
		dir  \ under   adapter setting > u will get test and admin > under properties of test > disable checkbox of ipv6 

	** Ping conncectivity
		ping domain name , get this domain name from systeminfo ( right click on empty screen where c drive is located )
		command > ping domain_name ( glory.rvbd ) 
		when u ping domain name , it will show domain name in ping response ( ip addres from dc machine ) * BUt make sure u disabled ipv6 checkbox first 

	MAPI TEST PARAMETERS
		Open  mail in sever (search )
		if cached :1 :
			> change profile to be outlook > cahed mode :1 > properties > email accounts > under email double click > make sure cached checkbox is clicked > apply and ok
		Change profile by   openening mail in sever (search ) , under show profiles > rn click profile based on test parameters 

	BEFORE REBUILD DO manual testing 
		> open oulook in client , send mail to administrator (Ctrl+N) with subject and body and check inbox (make sure its in inbox)
		(if not working check with diff profile change it and send mail and check inbox )
		(if working with other profile , delte and add again the same profile) whenevr adding profile name ** should be capitialize


	MAPI ISSUE point 
		1. open the server machine in RDP
		2. clear the temps and do restart
		3. wait until that machine came to good condition after restart
		4. after that clear temps of client machine
		5. do restart
		6. after the machine gets restarted check the connectivity
		7. check all configurations
		8. check whether it is working during manual testing
		9. give a rebuild



	** MAPI OVERALL STEPS 
		parameters checked ( cached mode , ipv6, profile, domain name ) > 
		Ping connectivity ( server and Dc and domain name ) > 
		Installation os ( sfe and cfe ) >
		Manual Testing  (client machine ) >
		Rebuild
		
		EG 
			profile1: admin_ex2016
			cached_mode1: 0
			client_ver1: 2016
			exch_ver1: 2016

			allocation = exchange 3
			latest bld = 108
			domain     = destiny.rvbd
			client     = oak-vcs1170	  10.5.168.34
			server     = oak-vcs1191	  10.5.133.84
			client sh  = oak-vsh348    10.5.167.179
			server sh  = oak-vsh378    10.5.168.179
			dc machine = oak-vcs1169   10.5.138.113


			ping connectivity done 
				- when pingged destiny.rvbd > some other ip coming 10.5.82.92, not of dc machines
			**  If domain name ping dosent works , enable disable the test network again , BUT DONT TOUCH ADMIN NETWORK EVER ONLY TEST NETWORK
				- ping oak-vcs1169 10.5.138.113  = correct connectivity coming , checked ip address as well
				- pinged server machine     >  correct ip address response coming , evn by pinging machine name
				- CHECK DOMAIN AND PING FROM DC MACHINE AS WELL via RDP ( username = domain_name\administrator , pass = 2top90! )

			Parameters of MAPI
				- profile  set right as per params
				- since cache mode 0 , unchecked the cache box as well
				- ipv6 checbox unclicked 
				- if MOH ,  in desktop double click moh shortcut and press yes , it will enable

			Installing Os in client SH and server SH
				- Now installing 9.12.2
				- Installation successfull

			Manual Testing 
				- Message successfully placed in inbox 
				(sent via administrator )

			- for mapi test always the client machine should be logged in and to get an idea it is good to watch the automation run
			- Failed logs , check red line and search for it 
			- oak-vsh - virtual stealhead 
			- if failing twice == called product issue else environment issue 
			- if no 2013 server in exchange 3 allocation chhose from exchange 1 allocation, depending upon server machine version , we choose DC version
			- if 2 test , one is not cached and othe cached , then follow first test in order 

			login issues cygwin 
			- no shell to target . means no login to client machine > TROUBLESHOOT - cygwin  machine 
			= u can check administrator line should be above guest line , check 
			- ssh Administrator@oak-vcs440 > pass >

			ENABLE FIPS IN CLIENT SH AND SERVER SH  if given in test parameters
				under action > enable_fips_mode and execute  or in installation method in install > set fips mode to true and do the installation 



17/2/22

	Allocation Upgrade

	DC and CLIENT - same process for doing updates
		( in exchange servers and other machines like )

		First changes  in dc , server and then client machine
		
		for server - specifications will be provided  in email 
		open dc in rdp
		username - administrator  or give domain\administrator
		pass     - 2top90!

		clear the temps and %temp%

		clear recycle bin 
	
		ping connectivity
		from dc to client , from dc to client sh

		vsphere client > oak machine click > take snapshot 
		> name as before windows update (with description)
		> * untick include virtual machine's memory box > Create

		go and check for updates in dc machine > install updates
		> restart 

		vsphee client > summary > launch console ( for that same machine )

		open dc via RDP > check for updates

		vsphee client > take snapshot > name after windows update >
		tick include virtual machine memory and create 

		proceed with ALL DC machines First

		exchange 1 
			previous version 2016 = 
			current version 2016 = 15.01.2507.016   = done


			previous version 2013  = 
			current version  2013  =    = after 2 hours

			( dc = oak-vcs1315, server = same combined )
			previous version 2010 - 14.03.0513.000
			current version  2010 =    = after 2 hours

		exchange 2  ->   not in used !

		exchange 3 
			2016
				dc 	   = oak-vcs1169
				server = oak-vcs1191
				previous version 2016 - 15.01.2507.009
				current version  2016 - 15.01.2507.016    = done

				[	
					Get-Command Exsetup.exe | ForEach {$_.FileVersionInfo}

					- 15.01.2507.009

					https://support.microsoft.com/en-us/topic/description-of-the-security-update-for-microsoft-exchange-server-2019-2016-and-2013-november-8-2022-kb5019758-2b3b039b-68b9-4f35-9064-6b286f495b1d
				]

		no 2013 or 2010 servers  HERE 

			2top90!




	NOW with server  MACHINES - INSTALL CU here not in DC 

		specification will be given 
		exchange server 2016 CU11 > cumiliative server 2016 CU11 >
		open same server  version (like server-exch_2016) in rdp 
		username - domain_name\administrator

		clearing temps > recycle bin > ping connectivity  ( from server to  any client,  ) 
		> vsphere > search the machine click it 
		> with command given in command , check version of installation  in ( exchange management shell in search in server machine ) 
		> take snapshot ( before win update & untick checkbox )
		> restart > ( Check for updates ) > install and restart >
		NOW DO CUMILITATIVE UPDATE > check version of machine > (link for exch server offical doc of microsoft is given, link given in email jjj id ) >
		exchange management shell in search in server machine > follow the link and provide commands in shell 
		> copy the link and paste in firefox remote server machine  and click download , when downloaded >
		double clicked > click setup.exe > after installation > restart the machine > open exh mgt shell 
		> check current version by == Get-Command Exsetup.exe | ForEach {$_.FileVersionInfo}
		> note down previous version and current version in excel sheet
		> check current version > vsphere client > take snapshot ( include virtual memory and after downloads update )

Q  Windows upgrade in server machines when asked by AJ 
	- Exchange servers should all be updated to latest CUs / Service Packs available here:

	_ so follow the above steps and if u face issue in downloading CU23 main file from link 
	(https://docs.microsoft.com/en-us/Exchange/new-features/build-numbers-and-release-dates?view=exchserver-2019), 
	then make sure u download 2 files - one to mount and another one to install , first we need to mount the disc image file (6.6 gb ) 
	> mount > click on setup.exe and after installation > install another file for CU23 (  usually size 154 mb )

	- if installation fails , make sure u sign in as administrator
	- if CU23 ISO 6.6gb file not installing, try re installing again and again
	- if client machine , no need to do cumiliative update , only server machines 



	Overall Steps 
	
		Proceed with all DC's ( snapshot 2016,2013,2010 ) 
		> Server Machines  ( snapshot + CU updates 2016,2013,2010 ) 
		> Client Machines ( snapshot of 2016,2013,2010 )


			
		DC AND CLIENT 	- rdp > empty temp and bin > ping 
						> snapshot (uncheck box , name , description) 
						> restart > install updates > ping 
						restart > snapshot (checked box ,name,description)
			
		SERVERS ONLY	- rdp > empty temp and bin > ping 
						> check version of current installation 
						> snapshot (uncheck box , name , description) > restart 
						> install CU (firefox) (double click) (setup.exe ) 
						> restart 
						> (check new version of current installation ) snapshot (checked box ,name,description) 


21/2/22
	
	Q whn issue in testplan in logs or WHEN TEST PLAN FAILS ?  (  SteelHead signing needs to be active )   test fail
	- Check Logs >>> in failed logs in jenkins test 1 or test 2 depending upon the log msg
	- Manual login > administration > loggin > rotate logs under log actions 

	in fits > 
		- just do the  rebuild [ no installation or ping connectivity ]
		- never take the success build , it will rerun the success ones too 

	IF you see settings sign > it means some configurations changes happen > so click on it ( thats y it was failing )
	> from the log u can check code changed > now confirm it in the console outpyt and search for the error 
	(eg i could see pip install -U Pygments==2.5.2 in the console output , where it was an error " + pip install -U setuptools==44.1.1 " )
	> so now we comment that line by going to Persicope Fit Dropdown and click configure >
	From there comment code in execute shell and save and DO rebiuld without giving deliverable ID or clickede checkbox 

	*** Make Sure you save previous changes , as a matter of proof 

	
	# mapi tests > configure tests for client and server steelheads,
	any tests configure steelheads machines > send mail to client & server machines 
	> get logs in server machines when tests run up ( new logs generated and confirm from watchlist of both steelheads)
	> .pm main file for all MAPI tests

	Blocks of tests
	configure > execute > validate > clean up




18/02/22

	How to Do sharepoint manual test ?

	
	Here step 7 to 16 would be given 

	server steelhead open in putty  > login admin > 2top90!
	# enable
	# config t 
	# show protocol http    ( can check in test params too. follow the commands here ) 
	# no protocol http auto-config enable 
	# show protocol http 
	# protocol http server oak-vcs 1224 >>> 3 commands  one byy one 

	copy d output from first command (show http protocol) 
	to last in notepad (check test plan for logs)

	We will open 660 server steelhead  and FOLLOW THE SCREENSHOTS mentioned in the test params 
	. in ur local machine , https://oak-vsh660 > continue > admin and admin username and pass > sign in 
	  under networking > host settings > confirm with the screenshot and match the params 
	  as per the screenshot and take new screenshot (exactlu) of the DNS settings 

	. Check new ss > optimization > active directory > service accounts

	. here step 7 to 16 would be given 

	server steelhead open in putty  > login admin > 2top90!
	# enable
	# config t 
	# show protocol http    ( can check in test params too. follow the commands here ) 
	# no protocol http auto-config enable 
	# show protocol http 
	# protocol http server oak-vcs 1224 >>> 3 commands  one byy one 

	copy d output from first command (show http protocol) 
	to last in notepad (check test plan for log)

	We will open 660 server steelhead  and FOLLOW THE SCREENSHOTS mentioned in the test params 
	in ur local machine , https://oak-vsh660 > continue > admin and admin username and pass > sign in 
	under networking > host settings > confirm with the screenshot and
	match the params as per the screenshot and take new screenshot (exactlu) 
	of the DNS settings 

	. new ss > optimization > active directory > service accounts > 
	  follow the ss > and type and args same as given in ss

	. new ss > adding replication user > if in ss , params not given in actual machine  >
	  add new user ,add domain and apply , based on old ss

	. folow the steps and command from 25 to 26 and copy the output in the notepad

	. open CLIENT MACHINE >  CHANGE LAN SETTINSG IN INTERNET EXPLORER under IE > 
	  connections > check ss and change accordingly and take same kinda ss

	. open blue link in ie in client machine and load it 


	Overall Steps 
	
	[ SHAREPOINT 2016 - MANUAL ]

	For 1 Test - test will be automated - jenkins rebuild run  only 
	For 2 Test - manual test - here we just open IE in client machine and fiddler and open with explorer in IE 
	|		- click inspectors and get data in   both    raw format to view the responses 
	|		- to run the tests and get 3 responses OPTIONS, PROFIND 1, PROFIND 2   
	|		- will come automatically and immediately after clicking on open with explorer
	
	* THIS ACTIVITY ONLY FOR 2 AND 3 tests for testplan manual 
		rules > breakpoints > enable breakpoints   > open with explorer > change 2 url of profind request with this 
		" http://oak-vcs1225/Shared%20Documents/Docs/Sample.doc/ HTTP/1.1 " and then given run to completion 
		- copy paste all logs of request  and response and match with param 
	
	[  if files not present for ANY TEST  in SteelHead directory  ie Shared%20Documents/Folder2/serf_perf/*.doc	
	|			 files then find the files in the sh directory   
	|			- we found it in C drive > data > Folder2  , 
	|			there go to IE and put the folder under  http://oak-vcs1225/Shared%20Documents PATH   
	]

	-  show connections command in steelhead  (vsh 660 in my case )
	|			 need to be done immediately after profind request and response to get accurate result 

	-  even if u miss any step  , just check the show protocol domain-auth join  
	|			to check and confirm test join succedded , 
	|   u can perform the steps later next day 

	- Troubleshooting  - clear temps, recycle bin, history ,restart , start with internet explorer Again !




	- 1 test is automation ,rest 3 are manuals one 
	- check the test parameters , the name of test plan is version of client and server machine
	- find domain and confirm it from client machine 
	- here logs will be created manually , for that we check the previous test log for current run
	( from previous logs - steps , follow previous steps only for building new test plan )
	( never copy the output , only copy the steps and commands )
	- check ping connectivity   ( from client > to server and dc machine )
	- login to server steelhead (as given in previous step ), as admin 
	( copy paste commands and google it what it does )
	- even if the params match, still give the commands - for better practice
	- MANUAL login 
	- for each test , whatever changes done, will be noted down, so make sure u apply changes at one go only
	- host setting > domain join > kerbos > shell commands > open Client IE >
	( troubleshooting - when accessing server IP , 
	the server was down, so went inside server machine 
	and check whats happening)
	- STEP 46 to 50
	-  open OPTIONS LINK from next step in  > click library > open with explorer > ss  ( check the link in the path )
	open fiddler >  check different processes 4,5,6 where OPTIONS , OPTIONS REQUEST , PROPFIND will be shown
	_where status 200 be will be reverted - check result from the table > click  RAW >  COPY PASTE LOGS  and match it 
	
	* if PROFOUND IS NOT SUCCESS IN NEXT STEP , LOOP this particular step again and again until success 
	
	( FOR 2 test and 3 test , changes needded in FIDDLER )

	- manual login > under reports > check system logs and filter error msgs , take the ss
	and under cm under reports > traffic summary > ss
	
	> finally click on 1 TEST and  add result > add passed > under comment > 
	copy paste all the logs with ss(image box) with option request and response profind request(fiddler)
	(you can view logs in raw format - both sides )
	step by step  in the comment box > give allocation information , version number > add test result 

	* clear browsing history inorder to do profind request AGAIN )
	( install )

	
		** Q if issue in TEST MANUAL 
		** restart sh > rotate logs > reboot server sh > clear temps and reboot clinet machine  , install build
		( restarted the server , rebooted it , rotated logs , cleared temp in client , rebooted client , installed os again )

		- 	open request url in IE in client machine 
		library > fiddler > break the points procedure > open with explorer > option request run to completion 
		> 2 profind request change url > completion > immediately # show connections in putty in vsh660 terminal 

	
	[  
		SHARE POINT MANUAL UNDER  
			- 2 and 3 test as we need second rofind request and response 
			(only we need to change the url )		|  	Not for the First Tests 

		copy options reqyest link and open in client IE > open with explorer
		under rules > automatic breakpoints > enable before requests 
		new request will come in table , click on it , view it raw 
		open IE , open with exploreer , open that red column and click on run to completion
		click 3 link  - we need to check 200 http OK status where url is  #### shared.documents/folder
		
		- for 2 profpfind request > change url in above table 
		and copy  paste the logs 
		(inorder to get the files , we need to delete the history of IE and temp )

		we do changes in 2 profound request 

	]

	** no same traffic summary 


change password Policy 
	
		
	Q should be in caps only , same pass
	- same pass for riverbed and microsoft 
	- Both AD and putty needs to be change at same time 

	on puttty > login as > shatruck.rbtech.com (shattuck.nbttech.com)  (skarn.lab.nbttech.com)> jjjanardhanan  and login as pass
	> passwd  > give current password > enter new pass 
	> exit and reconnect and confirm the status
	( it will propagate after 24 hour )
	new pass >>> strange@2022Q1


	for changing AD password 
	>>>  https://sso.riverbed.com/ > login as jjjanardharn > IT apps > change password 
		change password from old passwd to new password 



3/15/2022
	|											OVERALL REVIEW 
	|								Password expiring on 23 march 2022
	Overall alll tests  > Sharepoint Manual ( perform changes as per screenshot ) , 
	| 					  Allocation Upgrade ( 17/2/2022 > take snapshots and upgrade the dc client and server),
	|					  MAPI Tests ( 15/2/22 > Parameters of MAPI - like changes in profile cache in client machine ),
	|					  FIT ( check run tests , all green )
	|					  OS Installation 
	| 					  Others  ( check  run tests , os installation , changing domain name , )


|											FIT TEST RUN 
	
	# CHECK the BUILD in client and server machines and install the latest 
	testrail link > check test run id and confirm with fit test > check test run id from url or R89393 no  
	# IF REBUILD FAILS AGAIN AND AGAIN IN FIT 
	- because test was in retest and in build we were marking run failed test only , so it got failed 
	- and we need to take the first failed test from the logs in Jenkins 
	AFTER WE LOGIN in mputty >
		- ssh from pyrite machine to  client machine   >>>    then ssh Administrator@oak-vcs1549  

			this is command for checking the ssh connection to the client machine via pyrite machine
		
		- ping conncectivity
		- 



| New release

	link will appear in jenkins log if installed os with link 
	or 
	if installed with deliverable id > it will shown in jenkins log too ( Deliverable information )
	- and u can check by clicking on rebuild u can recheck by checking old deliverable id 


	- > linux via cygwin terminal from vnc not putty
	- > link installation
	- > check the build in client and server machines and rebuild , do for all tests 
	


This HOW alllocation should be placed,   dummynet , wan0 , primary  machiine should NEVER BE IN SAME VLAN , REMEMBER IT 

	|  if u plug the machine out from any vlan  remember Primary machine should be placed with client machines  2013 2010 , and lan0
	|  next vlan should dummynet ans wan0 
	|  next vlan dummynet and server SH 
	|  next vlan dcglory , lan0, primary SH, server exchanges 2016, server exchange 2018





-- if SSL valgrind tests in the test plan not working automatically, then u need to run it manually 
-- this test needs to be added manually in add result , get the screenshots  from -->  https://oak-vsh252/mgmt/gui?p=reportConnections&persistent=1&ui_category=0&conn_type=0x317f
- here is the link follow it 
__ by jigeeshu sir - https://testrail.lab.nbttech.com/core/index.php?/tests/view/19267412&group_by=cases:section_id&group_order=asc&group_id=8133
__ by me 		   - https://testrail.lab.nbttech.com/core/index.php?/tests/view/38788256